{"remainingRequest":"/Users/arcadiopobletetorres/Documents/desarrollo/anglobal/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/arcadiopobletetorres/Documents/desarrollo/anglobal/src/views/Transfer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/arcadiopobletetorres/Documents/desarrollo/anglobal/src/views/Transfer.vue","mtime":1582778826286},{"path":"/Users/arcadiopobletetorres/Documents/desarrollo/anglobal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arcadiopobletetorres/Documents/desarrollo/anglobal/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/arcadiopobletetorres/Documents/desarrollo/anglobal/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/arcadiopobletetorres/Documents/desarrollo/anglobal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/arcadiopobletetorres/Documents/desarrollo/anglobal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9IZWFkZXInCmltcG9ydCBjaGFydDAyIGZyb20gJy4uL2NvbXBvbmVudHMvQ2hhcnQwMicKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiAoKSA9PiAoewogICAgLy9HZXQgQWNjb3VudHMKICAgIGdldEFjY291bnRzOiBbXSwKICAgIC8vR2V0IFRyYW5zYWNjaW9ucwogICAgZ2V0VHJhbnNhY2N0aW9uczogW10sCiAgICAvL0dldCBzZWxlY3Qgb3B0aW9ucyBmcm9tICdBY2NvdW50cycKICAgIG90cEFjY291dG46IFtdLAogICAgZ3J1cG8wMTogW10sCiAgICBncnVwbzAyOiBbXSwKICAgIC8vQWxlcnQgCiAgICBhbGVydFRyYW5zZmVyOiBmYWxzZSwKICAgIGFsZXJ0VHJhbnNmZXJUZXh0OiAnJywKICAgIGFsZXJ0Q29sb3I6ICdyZWQgZGFya2VuLTEnLAogICAgbmV3VHJhbnNmZXI6IHsKICAgICAgZnJvbUFjY291bnQ6ICcnLAogICAgICB0b0FjY291bnQ6ICcnLAogICAgICB0cmFuc2ZlckFtb3VudDogJycsCiAgICB9LAogICAgLy9EYXRhIENoYXJ0CiAgICBjaGFyZGF0YTogewogICAgICBsYWJlbHM6IFsnRW5lcm8nLCAnRmVicmVybyddLAogICAgICBkYXRhc2V0czogWwogICAgICAgIHsKICAgICAgICAgIGxhYmVsOiAnRGF0YSBPbmUnLAogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2Y4Nzk3OScsCiAgICAgICAgICBkYXRhOiBbNTAsIDIwXSwKICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogWwogICAgICAgICAgICAgICAgJyMxRTg4RTUnLAogICAgICAgICAgICAgICAgJyNGRkFCNDAnCiAgICAgICAgICAgIF0sCiAgICAgICAgfQogICAgICBdCiAgICAgfSwKICAgIG9wdGlvbnM6IHsKICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSwKICAgICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogdHJ1ZQogICAgfQogIH0pLAogIGNyZWF0ZWQgKCl7CiAgICAgIC8vVXJsIAogICAgICBjb25zdCB1cmxBY2NvdW50ID0gJy4uL2RhdGFiYXNlL2FjY291bnRzLmpzb24nCiAgICAgIGNvbnN0IHVybFRyYW5zYWN0aW9ucyA9ICcuLi9kYXRhYmFzZS90cmFuc2FjY3Rpb25zLmpzb24nCiAgCiAgICAgIC8vR2V0IG9wdCBzZWxlY3QgQWNjb3VudHMKICAgICAgYXhpb3MuZ2V0KHVybEFjY291bnQpLnRoZW4oIGl0ZW0gPT4gewogICAgICAgICAgICB0aGlzLm90cEFjY291dG4gPSBpdGVtLmRhdGEuYWNjb3VudHMubWFwKHJlcyA9PiB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIC8vTWFzY2FyIGRlIGxhIGN1ZW50YWEKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnKioqKicgKyBTdHJpbmcocmVzLmFjY291bnQpLnN1YnN0cig1LDUpIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAnIC0gJyArIHJlcy5tb25leS5jdXJyZW5jeSArIHJlcy5tb25leS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAvL1ZhbG9yIGRlIGxhIGN1ZW50YQogICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXMuYWNjb3VudAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICB9KQogICAgICAKICAgICAgLy9HZXQgQWNjb3VudHMKICAgICAgYXhpb3MuZ2V0KHVybEFjY291bnQpLnRoZW4oIGl0ZW0gPT4gewogICAgICAgICAgICB0aGlzLmdldEFjY291bnRzID0gaXRlbS5kYXRhLmFjY291bnRzCiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICB9KQoKICAgICAgLy9HZXQgVHJhbnNhY3Rpb25zCiAgICAgIGF4aW9zLmdldCh1cmxUcmFuc2FjdGlvbnMpLnRoZW4oIGl0ZW0gPT4gewogICAgICAgICAgICB0aGlzLmdldFRyYW5zYWNjdGlvbnMgPSBpdGVtLmRhdGEudHJhbnNhY3Rpb25zCgogICAgICAgICAgICBsZXQgZ3JvdXBUYWJsZTAxID0gaXRlbS5kYXRhLnRyYW5zYWN0aW9ucy5maWx0ZXIoaXRlbSA9PiBpdGVtLmZyb21BY2NvdW50ID09IDEyMzQ1Njc4OSkKICAgICAgICAgICAgbGV0IGdyb3VwVGFibGUwMiA9IGl0ZW0uZGF0YS50cmFuc2FjdGlvbnMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5mcm9tQWNjb3VudCA9PSA5ODc2NTQzMjEpCgogICAgICAgICAgICB0aGlzLmdydXBvMDEgPSBncm91cFRhYmxlMDEKICAgICAgICAgICAgdGhpcy5ncnVwbzAyID0gZ3JvdXBUYWJsZTAyCgogICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgfSkKICB9LAogIG1ldGhvZHM6IHsKICAgIHRyYW5zZmVyKCl7CiAgICAgIC8vVmFsaWRhdGlvbnMKICAgICAgICBpZih0aGlzLm5ld1RyYW5zZmVyLmZyb21BY2NvdW50ID09ICcnKXsKICAgICAgICAgICAgdGhpcy5hbGVydFRyYW5zZmVyID0gdHJ1ZQogICAgICAgICAgICB0aGlzLmFsZXJ0VHJhbnNmZXJUZXh0ID0gJ1NlbGVjY2nDs25lIHVuYSBjdW5ldGEnCgogICAgICAgIH1lbHNlIGlmKCB0aGlzLm5ld1RyYW5zZmVyLnRvQWNjb3VudCAgPT0gJycgKSB7CgogICAgICAgICAgICB0aGlzLmFsZXJ0VHJhbnNmZXIgPSB0cnVlCiAgICAgICAgICAgIHRoaXMuYWxlcnRUcmFuc2ZlclRleHQgPSAnTGEgY3VlbnRhIGRlc3Rpbm8gZXN0YSB2YWNpYScKCiAgICAgICAgfWVsc2UgaWYodGhpcy5uZXdUcmFuc2Zlci50cmFuc2ZlckFtb3VudCA9PSAnJyl7CgogICAgICAgICAgICB0aGlzLmFsZXJ0VHJhbnNmZXIgPSB0cnVlCiAgICAgICAgICAgIHRoaXMuYWxlcnRUcmFuc2ZlclRleHQgPSAnQWdyZWdlIHVuIG1vbnRvIGEgdHJhbnNmZXJpcicKCiAgICAgICAgfWVsc2V7CiAgICAgICAgICBsZXQgZ2V0RGF0ZSA9IG5ldyBEYXRlKCkKICAgICAgICAgCiAgICAgIAoKICAgICAgICAgIGlmKHRoaXMuZnJvbUFjY291bnQgPT0gMTIzNDU2Nzg5KXsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTnVldm8gcmVnaXN0cm8nKQogICAgICAgICAgICAgIHRoaXMuZ3J1cG8wMS5wdXNoKHRoaXMubmV3VHJhbnNmZXIuZnJvbUFjY291bnQpCiAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIGVzIGNvcnJlY3RvJykKICAgICAgICAgIH0KICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5uZXdUcmFuc2Zlci5mcm9tQWNjb3VudCkKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5uZXdUcmFuc2Zlci50b0FjY291bnQpCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubmV3VHJhbnNmZXIudHJhbnNmZXJBbW91bnQpCiAgICAgICAgICAKICAgICAgICAgIGxldCBjdWVudGFzID0gdGhpcy5nZXRBY2NvdW50cy5maW5kKGl0ZW0gPT4gaXRlbS5hY2NvdW50ID09IHRoaXMubmV3VHJhbnNmZXIuZnJvbUFjY291bnQpCgogICAgICAgICAgICAgIGlmKHRoaXMubmV3VHJhbnNmZXIudHJhbnNmZXJBbW91bnQgPiBjdWVudGFzLm1vbmV5LnZhbHVlKXsKICAgICAgICAgICAgICAgICAgdGhpcy5hbGVydFRyYW5zZmVyID0gdHJ1ZQogICAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0VHJhbnNmZXJUZXh0ID0gJ0xhIGN1ZW50YSBubyB0aWVuZSBzdWZpY2llbnRlIHNhbGRvJwogICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICBsZXQgZGVzY3VlbnRvID0gY3VlbnRhcy5tb25leS52YWx1ZSAtIHRoaXMubmV3VHJhbnNmZXIudHJhbnNmZXJBbW91bnQKCiAgICAgICAgICAgICAgfQogICAgICAgIH0gCgogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgICAgSGVhZGVyLAogICAgICBjaGFydDAyLAogICAgICAKICB9Cn0K"},{"version":3,"sources":["Transfer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Transfer.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div>\n  <Header></Header>\n    <v-container class=\"mt-6\">\n      <v-row>\n        <v-col cols=\"4\" md=\"4\" lg=\"4\" xl=\"4\" class=\"mt-5\">\n            <v-card>\n              <!-- Titulo -->\n              <v-card-title class=\"headline light-blue darken-1 white--text\">\n                Create new transfer\n              </v-card-title>\n              <!-- Card Transfer -->\n              <v-card-text>\n                <!-- Formulario -->\n                <v-form ref=\"formTransfer\">\n                  <v-row>\n                    <!-- Select Cuentas -->\n                    <v-col cols=\"12\" class=\"pb-0\">\n                      <v-select  :items=\"otpAccoutn\" label=\"Accounts\" v-model=\"newTransfer.fromAccount\"></v-select>\n                    </v-col> \n                    <!-- Destino -->\n                    <v-col cols=\"12\" class=\"pt-0 pb-0\">\n                       <v-text-field  label=\"Destination account\" counter=\"8\" maxlength=\"8\" v-model=\"newTransfer.toAccount\"></v-text-field>\n                    </v-col>\n                    <!-- Monto a transferir -->\n                    <v-col cols=\"12\" class=\"pt-0 pb-0\">\n                       <v-text-field label=\"Amount\" v-model=\"newTransfer.transferAmount\"></v-text-field>\n                    </v-col> \n                  </v-row>\n                </v-form>\n              </v-card-text>\n              <v-divider></v-divider>\n              <v-card-actions class=\"pa-0\">\n\n              <v-spacer></v-spacer>\n              <!-- New transfer -->\n              <v-btn color=\"green darken-3\" tile dark depressed class=\"btnTrans\" @click=\"transfer\">Transfer</v-btn>\n              <!-- Cancel transfer -->\n              <v-btn color=\"blue-grey lighten-4\" tile depressed @click=\"$refs.formTransfer.reset()\" class=\"btnTrans ml-0\">Cancel</v-btn>\n              </v-card-actions>\n            </v-card>\n        </v-col>\n        <v-col cols=\"6\" md=\"6\" lg=\"8\" xl=\"4\" class=\"d-flex justify-center\">\n          <chart02 :chardata=\"chardata\" :options=\"options\" />\n        </v-col>\n      </v-row>\n      <v-row>\n    <v-col cols=\"6\" md=\"6\" lg=\"12\" xl=\"6\">\n <v-card>\n    <v-card-text>\n        <v-simple-table>\n            <template v-slot:default>\n            <thead>\n                <tr>\n                    <th class=\"text-center\">Origin Account</th>\n                    <th class=\"text-center\">Destination account</th>\n                    <th class=\"text-center\">Transfer date</th>\n                    <th class=\"text-center\">Amount</th>\n                </tr>\n                </thead>\n                <tbody>\n                    <tr v-for=\"(item, index) in  grupo01\" :key=\"index\">\n                        <td class=\"text-center\">****{{ String(item.fromAccount).substr(5,9)}}</td>\n                        <td class=\"text-center\">{{ item.toAccount }}</td>\n                        <td class=\"text-center\">{{ item.sentAt.substr(0,10)}}</td>\n                        <td class=\"text-center\">{{item.amount.currency}} {{item.amount.value}}</td>\n                    </tr>\n                </tbody>\n            </template>\n        </v-simple-table>\n    </v-card-text>\n</v-card>\n</v-col>\n\n<v-col cols=\"6\" md=\"6\" lg=\"12\" xl=\"6\">\n <v-card>\n    <v-card-text>\n        <v-simple-table>\n            <template v-slot:default>\n            <thead>\n                <tr>\n                    <th class=\"text-center\">Origin Account</th>\n                    <th class=\"text-center\">Destination account</th>\n                    <th class=\"text-center\">Transfer date</th>\n                    <th class=\"text-center\">Amount</th>\n                </tr>\n                </thead>\n                <tbody>\n                    <tr v-for=\"(item, index) in  grupo02\" :key=\"index\">\n                        <td class=\"text-center\">****{{ String(item.fromAccount).substr(5,8)}}</td>\n                        <td class=\"text-center\">{{ item.toAccount }}</td>\n                        <td class=\"text-center\">{{ item.sentAt.substr(0,10)}}</td>\n                        <td class=\"text-center\">{{item.amount.currency}} {{item.amount.value}}</td>\n                    </tr>\n                </tbody>\n            </template>\n        </v-simple-table>\n    </v-card-text>\n</v-card>\n</v-col>\n</v-row>\n      <v-snackbar v-model=\"alertTransfer\" :color=\"alertColor\" top>\n          {{ alertTransferText }}\n        <v-btn color=\"white--text\" text @click=\"alertTransfer = false\">\n          Close\n        </v-btn>\n      </v-snackbar>\n    </v-container>\n    </div>\n</template>\n\n<script>\nimport Header from '../components/Header'\nimport chart02 from '../components/Chart02'\n\nexport default {\n  data: () => ({\n    //Get Accounts\n    getAccounts: [],\n    //Get Transaccions\n    getTransacctions: [],\n    //Get select options from 'Accounts'\n    otpAccoutn: [],\n    grupo01: [],\n    grupo02: [],\n    //Alert \n    alertTransfer: false,\n    alertTransferText: '',\n    alertColor: 'red darken-1',\n    newTransfer: {\n      fromAccount: '',\n      toAccount: '',\n      transferAmount: '',\n    },\n    //Data Chart\n    chardata: {\n      labels: ['Enero', 'Febrero'],\n      datasets: [\n        {\n          label: 'Data One',\n          backgroundColor: '#f87979',\n          data: [50, 20],\n          backgroundColor: [\n                '#1E88E5',\n                '#FFAB40'\n            ],\n        }\n      ]\n     },\n    options: {\n      responsive: true,\n      maintainAspectRatio: true\n    }\n  }),\n  created (){\n      //Url \n      const urlAccount = '../database/accounts.json'\n      const urlTransactions = '../database/transacctions.json'\n  \n      //Get opt select Accounts\n      axios.get(urlAccount).then( item => {\n            this.otpAccoutn = item.data.accounts.map(res => {\n                return {\n                    //Mascar de la cuentaa\n                    text: '****' + String(res.account).substr(5,5) \n                            + ' - ' + res.money.currency + res.money.value,\n                    //Valor de la cuenta\n                    value: res.account\n                  }\n            })\n      }).catch(err => {\n        console.log(err)\n      })\n      \n      //Get Accounts\n      axios.get(urlAccount).then( item => {\n            this.getAccounts = item.data.accounts\n      }).catch(err => {\n        console.log(err)\n      })\n\n      //Get Transactions\n      axios.get(urlTransactions).then( item => {\n            this.getTransacctions = item.data.transactions\n\n            let groupTable01 = item.data.transactions.filter(item => item.fromAccount == 123456789)\n            let groupTable02 = item.data.transactions.filter(item => item.fromAccount == 987654321)\n\n            this.grupo01 = groupTable01\n            this.grupo02 = groupTable02\n\n      }).catch(err => {\n        console.log(err)\n      })\n  },\n  methods: {\n    transfer(){\n      //Validations\n        if(this.newTransfer.fromAccount == ''){\n            this.alertTransfer = true\n            this.alertTransferText = 'SelecciÃ³ne una cuneta'\n\n        }else if( this.newTransfer.toAccount  == '' ) {\n\n            this.alertTransfer = true\n            this.alertTransferText = 'La cuenta destino esta vacia'\n\n        }else if(this.newTransfer.transferAmount == ''){\n\n            this.alertTransfer = true\n            this.alertTransferText = 'Agrege un monto a transferir'\n\n        }else{\n          let getDate = new Date()\n         \n      \n\n          if(this.fromAccount == 123456789){\n              console.log('Nuevo registro')\n              this.grupo01.push(this.newTransfer.fromAccount)\n          }else{\n            console.log('No es correcto')\n          }\n            console.log(this.newTransfer.fromAccount)\n            console.log(this.newTransfer.toAccount)\n            console.log(this.newTransfer.transferAmount)\n          \n          let cuentas = this.getAccounts.find(item => item.account == this.newTransfer.fromAccount)\n\n              if(this.newTransfer.transferAmount > cuentas.money.value){\n                  this.alertTransfer = true\n                  this.alertTransferText = 'La cuenta no tiene suficiente saldo'\n              }else{\n                  let descuento = cuentas.money.value - this.newTransfer.transferAmount\n\n              }\n        } \n\n    }\n  },\n  computed: {\n  },\n  components: {\n      Header,\n      chart02,\n      \n  }\n}\n</script>\n"]}]}